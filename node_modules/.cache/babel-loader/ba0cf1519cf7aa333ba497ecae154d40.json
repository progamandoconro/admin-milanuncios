{"ast":null,"code":"import _slicedToArray from\"/home/sony/admin-milanuncios/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import firebase from\"firebase/app\";import\"./App.css\";import Iframe from\"react-iframe\";var db=function db(){return firebase.database();};function Dashboard(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),reservas=_useState2[0],handleReservas=_useState2[1];var _useState3=useState(Number(0)),_useState4=_slicedToArray(_useState3,2),item=_useState4[0],setItem=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),input=_useState6[0],handleInput=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),inputDelete=_useState8[0],handleInputDelete=_useState8[1];useEffect(function(){db().ref(\"/\");});var logOut=function logOut(){firebase.auth().signOut().then(function(){},function(error){console.log(error);});};var myData=JSON.stringify(reservas);var myDashboard=myData.split(\",\").map(function(it,i){return it.substring(it.length-11,it.length-2);});var productDescription=myData.split(\",\").map(function(it,i){return it;});var productID=myDashboard[item];var nextProduct=function nextProduct(){if(item===myDashboard.length){alert(\"Todos los anuncios fueron actualizados\");}else{setItem(Number(item)+Number(1));db().ref(\"/\").on(\"value\",handleReservas);}};var previousProduct=function previousProduct(){if(item===myDashboard.length){alert(\"Todos los anuncios fueron actualizados\");}else{setItem(Number(item)-Number(1));db().ref(\"/\").on(\"value\",handleReservas);}};var showProducts=function showProducts(){var product=\"https://www.milanuncios.com/renovar/?id=\"+productID;console.log(product);return React.createElement(\"html\",null,React.createElement(\"p\",null,productDescription[item]),React.createElement(\"button\",{onClick:function onClick(){return nextProduct();}},\" Siguiente\"),React.createElement(Iframe,{height:\"500px\",url:product}),React.createElement(\"button\",{onClick:function onClick(){return previousProduct();}},\" Regresar\"),React.createElement(Iframe,{url:\"https://www.milanuncios.com\"}));};var writeNewID=function writeNewID(newID){db().ref(\"/\").push({newID:newID}).catch(function(error){console.log(\"error \",error);});};var deleteProduct=function deleteProduct(name){db().ref(name).remove();};return React.createElement(\"div\",null,showProducts(),React.createElement(\"h5\",null,\"Escriba el ID del producto a AGREGAR\"),React.createElement(\"input\",{value:input,onChange:function onChange(e){return handleInput(e.target.value);}}),React.createElement(\"br\",null),React.createElement(\"button\",{onClick:function onClick(){return writeNewID(input);}},\"Enviar\"),React.createElement(\"br\",null),React.createElement(\"h5\",null,\"Escriba la KEY del producto a ELIMINAR\"),React.createElement(\"input\",{value:inputDelete,onChange:function onChange(e){return handleInputDelete(e.target.value);}}),React.createElement(\"br\",null),React.createElement(\"button\",{onClick:function onClick(){return deleteProduct(inputDelete);}},\" Eliminar \"),React.createElement(\"hr\",null),React.createElement(\"button\",{onClick:function onClick(){return logOut();}},\"Log Out\"));}export default Dashboard;","map":{"version":3,"sources":["/home/sony/admin-milanuncios/src/components/Dashboard.js"],"names":["React","useState","useEffect","firebase","Iframe","db","database","Dashboard","reservas","handleReservas","Number","item","setItem","input","handleInput","inputDelete","handleInputDelete","ref","logOut","auth","signOut","then","error","console","log","myData","JSON","stringify","myDashboard","split","map","it","i","substring","length","productDescription","productID","nextProduct","alert","on","previousProduct","showProducts","product","writeNewID","newID","push","catch","deleteProduct","name","remove","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport firebase from \"firebase/app\";\nimport \"./App.css\";\nimport Iframe from \"react-iframe\";\n\nconst db = () => firebase.database();\n\nfunction Dashboard() {\n  const [reservas, handleReservas] = useState([]);\n  const [item, setItem] = useState(Number(0));\n  const [input, handleInput] = useState(\"\");\n  const [inputDelete, handleInputDelete] = useState(\"\");\n\n  useEffect(() => {\n    db().ref(\"/\");\n  });\n\n  const logOut = () => {\n    firebase\n      .auth()\n      .signOut()\n      .then(\n        function() {},\n        function(error) {\n          console.log(error);\n        }\n      );\n  };\n\n  const myData = JSON.stringify(reservas);\n  const myDashboard = myData\n    .split(\",\")\n    .map((it, i) => it.substring(it.length - 11, it.length - 2));\n\n  const productDescription = myData.split(\",\").map((it, i) => it);\n\n  const productID = myDashboard[item];\n  const nextProduct = () => {\n    if (item === myDashboard.length) {\n      alert(\"Todos los anuncios fueron actualizados\");\n    } else {\n      setItem(Number(item) + Number(1));\n      db()\n        .ref(\"/\")\n        .on(\"value\", handleReservas);\n    }\n  };\n\n  const previousProduct = () => {\n    if (item === myDashboard.length) {\n      alert(\"Todos los anuncios fueron actualizados\");\n    } else {\n      setItem(Number(item) - Number(1));\n      db()\n        .ref(\"/\")\n        .on(\"value\", handleReservas);\n    }\n  };\n\n  const showProducts = () => {\n    const product = \"https://www.milanuncios.com/renovar/?id=\" + productID;\n    console.log(product);\n    return (\n      <html>\n        <p>{productDescription[item]}</p>\n        <button onClick={() => nextProduct()}> Siguiente</button>\n        <Iframe height=\"500px\" url={product}></Iframe>\n        <button onClick={() => previousProduct()}> Regresar</button>\n        <Iframe url=\"https://www.milanuncios.com\"></Iframe>\n      </html>\n    );\n  };\n\n  const writeNewID = newID => {\n    db()\n      .ref(\"/\")\n      .push({\n        newID\n      })\n      .catch(error => {\n        console.log(\"error \", error);\n      });\n  };\n\n  const deleteProduct = name => {\n    db()\n      .ref(name)\n      .remove();\n  };\n\n  return (\n    <div>\n      {showProducts()}\n      <h5>Escriba el ID del producto a AGREGAR</h5>\n      <input value={input} onChange={e => handleInput(e.target.value)} />\n      <br />\n      <button onClick={() => writeNewID(input)}>Enviar</button>\n      <br />\n      <h5>Escriba la KEY del producto a ELIMINAR</h5>\n      <input\n        value={inputDelete}\n        onChange={e => handleInputDelete(e.target.value)}\n      />\n      <br />\n      <button onClick={() => deleteProduct(inputDelete)}> Eliminar </button>\n      <hr />\n      <button onClick={() => logOut()}>Log Out</button>\n    </div>\n  );\n}\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}