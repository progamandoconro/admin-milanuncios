{"version":3,"sources":["store/constans.js","components/Login.js","components/Dashboard.js","index.js"],"names":["initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","database","ref","firebaseAuth","auth","loginAuth","email","password","signInWithEmailAndPassword","withRouter","withStyles","theme","main","width","display","marginLeft","spacing","marginRight","backgroundColor","breakpoints","up","paper","marginTop","flexDirection","alignItems","padding","avatar","margin","palette","secondary","form","submit","props","classes","useState","setEmail","setPassword","a","l","e","p","history","replace","alert","message","className","Paper","Avatar","Typography","component","variant","onSubmit","preventDefault","FormControl","required","fullWidth","InputLabel","htmlFor","Input","id","name","autoComplete","autoFocus","value","onChange","target","type","Button","color","onClick","db","firebase","Dashboard","reservas","handleReservas","Number","item","setItem","input","handleInput","inputDelete","handleInputDelete","useEffect","myData","JSON","stringify","myDashboard","split","map","it","i","substring","length","productDescription","productID","undefined","slice","product","console","log","on","height","url","showProducts","newID","push","catch","error","remove","signOut","then","PrivateRoute","Component","authed","rest","render","to","pathname","state","from","location","App","handleState","onAuthStateChanged","user","path","exact","Login","DashBoard","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.f2280de7.chunk.js","sourcesContent":["import { auth, database, initializeApp } from \"firebase/\";\n\nconst config = {\n    apiKey: \"AIzaSyDdL8C1MzjsOPhhtng9Nky5PEyiS9eXEuY\",\n    authDomain: \"milanuncios-pro.firebaseapp.com\",\n    databaseURL: \"https://milanuncios-pro.firebaseio.com\",\n    projectId: \"milanuncios-pro\",\n    storageBucket: \"milanuncios-pro.appspot.com\",\n    messagingSenderId: \"733209887442\",\n    appId: \"1:733209887442:web:275e66165dbbfcb4bfa30b\",\n    measurementId: \"G-644R1W9ZDT\" \n};\n\ninitializeApp(config);\n\nexport const ref = database().ref();\nexport const firebaseAuth = auth;\n\nexport const loginAuth = (email, password) => {\n  return firebaseAuth().signInWithEmailAndPassword(email, password);\n};\n","import React, { useState } from \"react\";\nimport {\n  Typography,\n  Paper,\n  Avatar,\n  Button,\n  FormControl,\n  Input,\n  InputLabel\n} from \"@material-ui/core\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport { withRouter } from \"react-router-dom\";\nimport { loginAuth } from \"../store/constans\";\n\nfunction SignIn(props) {\n  const { classes } = props;\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  async function Login() {\n    const l = (e, p) => {\n      return loginAuth(e, p);\n    };\n    try {\n      await l(email, password);\n      props.history.replace(\"/dashboard\");\n    } catch (error) {\n      alert(error.message);\n    }\n  }\n\n  return (\n    <main className={classes.main}>\n      <Paper className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon></LockOutlinedIcon>\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Mis productos\n        </Typography>\n\n        <Typography component=\"h1\" variant=\"h5\">\n          Milanuncios\n        </Typography>\n\n        <form\n          className={classes.form}\n          onSubmit={e => e.preventDefault() && false}\n        >\n          <FormControl margin=\"normal\" required fullWidth>\n            <InputLabel htmlFor=\"email\">Correo electrónico</InputLabel>\n            <Input\n              id=\"email\"\n              name=\"email\"\n              autoComplete=\"off\"\n              autoFocus\n              value={email}\n              onChange={e => setEmail(e.target.value)}\n            />\n          </FormControl>\n          <FormControl margin=\"normal\" required fullWidth>\n            <InputLabel htmlFor=\"password\">Constraseña</InputLabel>\n            <Input\n              name=\"password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"off\"\n              value={password}\n              onChange={e => setPassword(e.target.value)}\n            />\n          </FormControl>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={Login}\n          >\n            Entrar\n          </Button>\n        </form>\n      </Paper>\n    </main>\n  );\n}\n\nexport const styles = theme => ({\n  main: {\n    width: \"auto\",\n    display: \"block\",\n    marginLeft: theme.spacing(3),\n    marginRight: theme.spacing(3),\n    backgroundColor: \"orange\",\n    [theme.breakpoints.up(400 + theme.spacing(3))]: {\n      width: 400,\n      marginLeft: \"auto\",\n      marginRight: \"auto\"\n    }\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    padding: `${theme.spacing(3)}px ${theme.spacing(3)}px ${theme.spacing(3)}px`\n  },\n  avatar: {\n    margin: theme.spacing(3),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(3)\n  },\n  submit: {\n    marginTop: theme.spacing(3)\n  }\n});\n\nexport default withRouter(withStyles(styles)(SignIn));\n","import React, { useState, useEffect } from \"react\";\nimport firebase from \"firebase/app\";\nimport \"./App.css\";\nimport Iframe from \"react-iframe\";\n\nconst db = () => firebase.database();\n\nfunction Dashboard() {\n  const [reservas, handleReservas] = useState([]);\n  const [item, setItem] = useState(Number(0));\n  const [input, handleInput] = useState(\"\");\n  const [inputDelete, handleInputDelete] = useState(\"\");\n\n  useEffect(() => {\n    db().ref(\"/\");\n  });\n\n  const logOut = () => {\n    firebase\n      .auth()\n      .signOut()\n      .then(\n        function() {},\n        function(error) {\n          console.log(error);\n        }\n      );\n  };\n\n  const myData = JSON.stringify(reservas);\n  const myDashboard = myData\n    .split(\",\")\n    .map((it, i) => it.substring(it.length - 12, it.length - 2));\n\n  const productDescription = myData.split(\",\").map((it, i) => it);\n\n  const productID = myDashboard[item];\n\n  if (productID !== undefined){\n    productID.slice(0,  - 1)\n  } \n  const nextProduct = () => {\n    if (item === myDashboard.length) {\n      alert(\"Todos los anuncios fueron actualizados\");\n    } else {\n      setItem(Number(item) + Number(1));\n      db()\n        .ref(\"/\")\n        .on(\"value\", handleReservas);\n    }\n    console.log(productID)\n  };\n\n  const previousProduct = () => {\n    if (item === myDashboard.length) {\n      alert(\"Todos los anuncios fueron actualizados\");\n    } else {\n      setItem(Number(item) - Number(1));\n      db()\n        .ref(\"/\")\n        .on(\"value\", handleReservas);\n    }\n  };\n\n  const showProducts = () => {\n    const product = \"https://www.milanuncios.com/renovar/?id=\" + productID;\n    console.log(product);\n    return (\n      <div>\n        <p>{productDescription[item]}</p>\n        <button className='myButton' onClick={() => nextProduct()}> Siguiente</button>\n        <Iframe height=\"500px\" width='300px' url={product}></Iframe>\n        <button className='myButton' onClick={() => previousProduct()}> Regresar</button>\n       \n      </div>\n    );\n  };\n\n  const writeNewID = newID => {\n    db()\n      .ref(\"/\")\n      .push({\n        newID\n      })\n      .catch(error => {\n        console.log(\"error \", error);\n      });\n  };\n\n  const deleteProduct = name => {\n    db()\n      .ref(name)\n      .remove();\n  };\n\n  return (\n    <div>\n      {showProducts()}\n      <h5>Escriba el ID del producto a AGREGAR</h5>\n      <input value={input} onChange={e => handleInput(e.target.value)} />\n      <br />\n      <button onClick={() => writeNewID(input)}>Enviar</button>\n      <br />\n      <h5>Escriba la KEY del producto a ELIMINAR</h5>\n      <input\n        value={inputDelete}\n        onChange={e => handleInputDelete(e.target.value)}\n      />\n      <br />\n      <button onClick={() => deleteProduct(inputDelete)}> Eliminar </button>\n      <hr />\n      <button onClick={() => logOut()}>Log Out</button>\n    </div>\n  );\n}\n\nexport default Dashboard;\n","import React, {useState, useEffect} from 'react';\nimport ReactDOM from 'react-dom';\nimport Login from './components/Login'\nimport DashBoard from './components/Dashboard'\nimport {BrowserRouter , Switch, Route, Redirect} from 'react-router-dom'\nimport './index.css'\nimport { firebaseAuth } from '../src/store/constans'\n\nfunction PrivateRoute ({component: Component, authed, ...rest}) {\n    return (\n        <Route\n        {...rest}\n        render={(props) => authed === true\n            ? <Component {...props} />\n            : <Redirect to={{pathname: '/login', state: {from: props.location}}} />}\n            />\n            )\n        }\n        \n        export default function App() {\n            const [state,handleState] = useState( false );\n            useEffect(()=>{\n                firebaseAuth().onAuthStateChanged((user) => {\n                    if (user) {\n                        handleState(\n                            true\n                            \n                            )\n                        } else {\n                            handleState(\n                                false\n                                \n                                )\n                            }\n                        })                    \n                        \n                    })\n                    \n                    return  (\n                        <BrowserRouter>\n                        <div>\n                        \n                        <div className=\"container\">\n                        <div className=\"row\">\n                        <Switch>\n                        <Route path='/' exact component={Login} />\n                        \n                        <PrivateRoute authed={state} path='/dashboard' component={DashBoard} />\n                        <Route render={() => <Login/>} />\n                        </Switch>\n                        </div>\n                        </div>\n                        </div>\n                        </BrowserRouter>\n                        );\n                    }\n                    \n                    ReactDOM.render(<App />, document.getElementById('root'));\n                    \n                    \n                    \n                    "],"sourceRoot":""}